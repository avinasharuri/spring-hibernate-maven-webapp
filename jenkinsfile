 pipeline {
        agent any
        tools {
                Maven 'maven'
        }
  stages {
        stage(scm) {
          steps {
                git 'https://github.com/avinasharuri/spring-hibernate-maven-webapp.git'
          }
        }

        stage (compile) {
          steps {
                sh 'mvn compile'
                }
                        }

        stage (test) {
          steps {
                sh 'mvn test'
                }
                }
        stage (package) {
          steps {
                node ('slave1'){
                git 'https://github.com/avinasharuri/spring-hibernate-maven-webapp.git'
                sh 'mvn package -Dskiptest'
                }
          }
        }
<<<<<<< HEAD

=======
        stage (sonar_analysis) {
          steps {
                node ('sonar&nexus'){
                git 'https://github.com/avinasharuri/spring-hibernate-maven-webapp.git'
                sh 'sonar:sonar'
                }
          }
        }
>>>>>>> 98bb0119fe27d9e9ad8eefb4b62d4ddb873d5cbe
        }
}
